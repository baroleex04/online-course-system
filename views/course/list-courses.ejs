<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List Courses</title>
</head>
<body>
    <h1>All Courses</h1>

    <!-- Search Form -->
    <form action="/courses" method="GET">
        <label for="criteria">Search by:</label>
        <select id="criteria" name="criteria">
            <option value="cid" <%= criteria === 'cid' ? 'selected' : '' %>>Course ID</option>
            <option value="name" <%= criteria === 'name' ? 'selected' : '' %>>Course Name</option>
            <option value="semester" <%= criteria === 'semester' ? 'selected' : '' %>>Semester</option>
            <option value="instructor" <%= criteria === 'instructor' ? 'selected' : '' %>>Instructor</option>
        </select>
        <input
            type="text"
            name="query"
            placeholder="Enter your search term"
            value="<%= query %>"
            required
        />
        <button type="submit">Search</button>
    </form>

    <% if (courses.length > 0) { %>
        <ul>
            <% courses.forEach(course => { %>
                <li>
                    <h3>
                        <%= course.name %> (<%= course.cid %>)
                        - Semester: <%= course.semester %>
                    </h3>
                    <p>Credits: <%= course.credit %></p>
                    <p>Instructor: <%= course.instructor %></p>
                    <a href="/course-details/<%= course.cid %>/<%= course.semester %>">View Details</a>
                </li>
            <% }) %>
        </ul>
    <% } else { %>
        <p>No courses found for your search criteria.</p>
    <% } %>
</body>
</html>
